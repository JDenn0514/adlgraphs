% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/adl_lollipop_plots.R
\name{adl_lollipop_plots}
\alias{adl_lollipop_plots}
\title{Lollipop plots with optional dodging and auto label offsets}
\usage{
adl_lollipop_plots(
  data,
  x,
  y,
  col_label,
  group = NULL,
  color = NULL,
  direction = "vertical",
  col_text_size = 3.25,
  distance_from_col = 0.25,
  auto_offset_prop = 0.03,
  position = NULL,
  dodge_width = 0.8,
  dodge_reverse = TRUE,
  wrap_facet_labels = 100,
  point_size = 3.5,
  line_width = 0.9,
  text_color = FALSE,
  ...
)
}
\arguments{
\item{data}{A data frame or tibble.}

\item{x}{Variable that goes in the x-axis. This is required.}

\item{y}{Variable that goes in the y-axis. This is required.}

\item{col_label}{\if{html}{\out{<data-masking>}} Variable used for text labels (e.g., the
frequency value).}

\item{group}{\if{html}{\out{<data-masking>}} Optional grouping variable (used for dodging and
color mapping when \code{color = NULL}).}

\item{color}{\if{html}{\out{<data-masking>}} Optional variable to map color of stems/points
(and labels when \code{text_color = TRUE}).}

\item{direction}{A character string indicating the direction of the lines.
There are two options:
\enumerate{
\item "vertical", the default, the bars are vertical
\item "horizontal" the bars are horizontal
This must be set explicitly as it affects the location of the text, labels,
and lines
}}

\item{col_text_size}{Numeric, text size for labels (default \code{3.25}).}

\item{distance_from_col}{How far the labels are from the points in the
plot. There are two options:
\enumerate{
\item "auto", this checks the limits of the scales to determine how much
space to add between the point and the text label (this is the default)
\item Numeric, a number referring to the size based on the scale
}}

\item{auto_offset_prop}{Numeric scalar (>= 0). Proportion of axis span used
for the automatic label offset when \code{distance_from_col = "auto"}. Default
is \code{0.03} (i.e., 3\% of span).}

\item{position}{Either \code{NULL} (no dodging) or \code{"dodge"} for grouped layouts.
\code{"stack"} is not supported.}

\item{dodge_width}{Numeric width passed to \code{position_dodge2()} (default \code{0.8}).}

\item{dodge_reverse}{Logical, whether to reverse the dodging order (default
\code{TRUE}).}

\item{wrap_facet_labels}{Integer passed to your faceting helpers if you
facet elsewhere (kept for interface compatibility).}

\item{point_size}{Numeric, size of the lollipop head (default \code{3.5}).}

\item{line_width}{Numeric, thickness of the lollipop stem (default \code{0.9}).}

\item{text_color}{Logical; if \code{TRUE}, \code{geom_text()} maps its color aesthetic
to \code{color} (or \code{group} if \code{color} is \code{NULL}). If both are \code{NULL}, text
uses "#14A2FCFF". If \code{FALSE} (default), text is drawn with a
fixed color (\verb{#2c2e35}).}

\item{...}{Additional arguments passed to \code{theme_default()}.}
}
\value{
A \code{ggplot} object.
}
\description{
Create vertical or horizontal lollipop plots for frequency-style data
(bars replaced with stems and points). Supports grouped/dodged layouts,
automatic label offsets based on axis span, and optional mapping of label
color to the plotted color or group.
}
\details{
Lollipop stems are drawn with \code{ggplot2::geom_linerange()} to
ensure proper behavior under \code{position = "dodge"}. Labels can be offset by a
fixed amount or automatically by a proportion of the rendered axis span
(\code{auto_offset_prop}), computed after scales are applied.

When both \code{color} and \code{group} are \code{NULL}, stems and points are drawn with
\code{adl_palettes$primary}, and labels default to \verb{#2c2e35} unless
\code{text_color = TRUE}, in which case labels inherit the plotted color (or the
primary if unmapped).

For more information on how the arguments point_size and line_width check out
vignette from the ggplot2 website:
}
\section{Auto label offset}{

\itemize{
\item For \code{direction = "horizontal"}, the label offset is computed from the
x-axis span.
\item For \code{direction = "vertical"}, the label offset is computed from the
y-axis span.
\item If the span cannot be determined at build time, the offset falls back to
\code{0.25}.
}
}

\examples{
\dontrun{
# Minimal vertical lollipop with auto label offset
adl_lollipop_plots(
  data = df,
  x = category,
  y = count,
  col_label = count,
  direction = "vertical",
  distance_from_col = "auto",
  auto_offset_prop = 0.03
)

# Horizontal grouped with dodging; labels inherit color mapping
adl_lollipop_plots(
  data = df,
  x = count,
  y = category,
  col_label = count,
  group = grp,
  color = grp,
  direction = "horizontal",
  position = "dodge",
  distance_from_col = "auto",
  auto_offset_prop = 0.02,
  text_color = TRUE
)
}

}
\seealso{
\itemize{
\item \code{\link[ggplot2:geom_linerange]{ggplot2::geom_linerange()}}, \code{\link[ggplot2:geom_point]{ggplot2::geom_point()}}, \code{\link[ggplot2:geom_text]{ggplot2::geom_text()}}
\item \code{\link[ggplot2:position_dodge]{ggplot2::position_dodge2()}}
}
}
