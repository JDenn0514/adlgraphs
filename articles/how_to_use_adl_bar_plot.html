<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Making bar plots • adlgraphs</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Inter-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Making bar plots">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-#e5f3f7" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">adlgraphs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.3.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/data_transformations.html">Data Transformations</a></li>
    <li><a class="dropdown-item" href="../articles/how_to_use_adl_bar_plot.html">Making bar plots</a></li>
    <li><a class="dropdown-item" href="../articles/make_coefficient_plots.html">Making Coefficient Plots</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/JDenn0514/adlgraphs/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Making bar plots</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/JDenn0514/adlgraphs/blob/main/vignettes/how_to_use_adl_bar_plot.Rmd" class="external-link"><code>vignettes/how_to_use_adl_bar_plot.Rmd</code></a></small>
      <div class="d-none name"><code>how_to_use_adl_bar_plot.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/JDenn0514/adlgraphs" class="external-link">adlgraphs</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org" class="external-link">stringr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://forcats.tidyverse.org/" class="external-link">forcats</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://haven.tidyverse.org" class="external-link">haven</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://larmarange.github.io/labelled/" class="external-link">labelled</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://glue.tidyverse.org/" class="external-link">glue</a></span><span class="op">)</span></span></code></pre></div>
<p>At CAR, our data visualization often consists of creating bar plots.
These can be stacked bar plots or dodged/grouped bar plots, horizontally
or vertically oriented, and with or without confidence intervals. While
bar plots may not be the flashiest of graphs, they are really valuable
due to the ease at which they convey information, the amount of
information they can convey, and the fact that most people know how to
read them.</p>
<p>This tutorial is comprised of two parts and will likely be updated
periodically over time:</p>
<ul>
<li><p>The first part consists of a data visualization and style guide
as it relates to creating bar plots so that they are consistent with
CAR’s style.</p></li>
<li><p>The second part demonstrates how to use various functions from
the <code>adlgraphs</code> package to make creating bar plots
easier.</p></li>
</ul>
<div class="section level2">
<h2 id="cars-bar-plot-visualization-and-style-guide">CAR’s bar plot visualization and style guide<a class="anchor" aria-label="anchor" href="#cars-bar-plot-visualization-and-style-guide"></a>
</h2>
<p>Some general rules that apply to all bar plots:</p>
<ul>
<li><p>The title ought to be no more than two lines and ought to be the
main takeaway of the plot.</p></li>
<li><p>Subtitle can convey additional information not available in the
rest of the plot. For example, it can help clarify what it is the plot
is demonstrating.</p></li>
<li><p>Use exact question labeling whenever possible. This is most often
used in the axis labels but can be in title.</p></li>
<li><p>The data point the bar is demonstrating should be directly
labelled either inside or outside the bar.</p></li>
<li><p>Don’t include grid lines. They are unnecessary since the labels
are already labelled.</p></li>
<li><p>Don’t label axes if not necessary.</p></li>
<li><p>When it comes to deciding the direction of the plot, just use
your judgement on what looks best. All plots used on the website require
a width of 1080px so if you are only comparing two bars, it may be
better to just make it horizontal. However, it’s important to keep the
aesthetic consistent throughout a report or presentation. For instance,
if you are regularly using vertical bar plots, keep using that even if
some might look a little better horizontally. The change in orientation
may confuse readers and think it is demonstrating something
different.</p></li>
</ul>
<div class="section level3">
<h3 id="simple-bar-plots">Simple bar plots<a class="anchor" aria-label="anchor" href="#simple-bar-plots"></a>
</h3>
<p>Simple bar plots are ones in which we are only comparing two
variables, the x and y axis variables. We use these for both
demonstrating frequencies as well as means. Additionally, they can be
vertical or horizontal.</p>
<p>Now let’s look at these in action. Below is a simple vertical
frequency plot. While this doesn’t have a subtitle, the rest of what is
written above still applies. Each bar is directly labelled with the
percentage.</p>
<ul>
<li><p>There aren’t any grid lines since the bars are labelled
directly</p></li>
<li><p>The plot title contains the main takeaway (or a main
takeaway)</p></li>
<li><p>The y-axis title is not labeled since the columns are already
labeled with data and % symbols.</p></li>
<li><p>The x-axis title is the exact question wording.</p></li>
<li><p>Each column is directly labeled outside the bar with the data
value it represents and the % symbol.</p></li>
<li><p>Lastly, the order of the bars is not reordered by percentage
since the values of the x-axis already have an inherent order.</p></li>
</ul>
<p><img src="how_to_use_adl_bar_plot_files/figure-html/unnamed-chunk-2-1.png" width="100%" height="100%"></p>
<p>Now let’s take a look at two simple vertical mean plots. The plot on
the left shows the average score on the “American Conspiracy Thinking
Scale” across educational groups. The American Conspiracy Thinking Scale
shows the average response score across four statements. The plot on the
right shows the average number of tropes endorsed from the ADL
Index.</p>
<ul>
<li><p>Both plots show the data label inside at the bottom of the bar,
with white surrounding the number to improve visibility</p></li>
<li><p>Both plots have confidence intervals demonstrating statistical
significance</p></li>
<li><p>The plot on the right does not have the y-axis labelled. This is
because one of the bars has “Tropes Endorsed” inside of it which tells
people what the numbers mean. This is ideal for when the y-axis is
something easy to understand like average number of actions, statements,
tropes, etc.</p></li>
</ul>
<p><img src="how_to_use_adl_bar_plot_files/figure-html/acts_avg%20mean-1.png" width="48%" height="48%" style="float:left; padding:5px"></p>
<p><img src="how_to_use_adl_bar_plot_files/figure-html/trad_n%20mean-1.png" width="48%" height="48%" style="float:right; padding:5px"></p>
<p>Now let’s take a look at a relatively simple horizontal bar plot. The
same principles laid out previously apply here as well, however, there
are some differences. For example, take the plot below. Here we are
looking at the percentage of people from each education level who agree
with a specific statement. Normally we would show this as a stacked plot
with all response options, but occasionally we want something simpler.
While this graph could be vertical, it is easier to read if done
horizontally. Namely, people don’t have to turn their head to read the
axes. Some notes:</p>
<ul>
<li><p>When frequency plots are horizontal, the percentage labels go
outside the columns to the right.</p></li>
<li><p>Again, the x-axis is not reordered because educational levels
have an inherent order to them. However, if this were something without
an inherent order, like race/ethnicity, we would reorder the columns
based on the percentage so the top bar is highest and the bottom bar is
lowest.</p></li>
<li><p>The y-axis does not have a title because it is obvious we are
looking at education levels. This concept applies to other demographic
groups. Only include titles if necessary.</p></li>
<li><p>While not super necessary, this graph has wrapped the y-axis
labels (there are line breaks), this makes the graph look more
symmetrical and keeps the x-axis title more centered. If adding line
breaks try to keep them to three maximum whenever possible.</p></li>
<li><p>The x-axis is title is added to clarify what it is we are looking
it.</p></li>
</ul>
<p><img src="how_to_use_adl_bar_plot_files/figure-html/education%20agree%20with%20top-1.png" width="100%" height="100%"></p>
</div>
<div class="section level3">
<h3 id="dodged-bar-plots">Dodged bar plots<a class="anchor" aria-label="anchor" href="#dodged-bar-plots"></a>
</h3>
<p>We don’t use dodged bar plots too frequently, but it is important to
understand what to do if we do use them. We use dodged bar plots to
demonstrate frequencies as well as mean plots. A typical example would
be to compare the level of agreement with various statements among
different groups of people. In this example, we’ll look at how people
with and without a college degree differ in how much they agree with a
few statements designed to measure conspiratorial mindset.</p>
<ul>
<li><p>Make sure legend is aligned with the direction of the bars and in
the same order. We can see this in the plot below. Since the plot is
horizontal and the bars are above each other, the legend is to the right
and the legend items are on top of each other. Furthermore, the order of
the legend items are in the same order as the bars.</p></li>
<li><p>Another note: Since these statements were a bit long, we made the
plot horizontal and wrapped them ove three lines. Typically, anything
more than two or three words will be made into a horizontal bar plot. As
it relates to wrapping the text, use your judgement. Make sure the text
is easy to read, doesn’t overlap with each other, and the relative sizes
of the bars is easy to see.</p></li>
</ul>
<pre><code><span><span class="co">#&gt; Warning in scale_adl(palette = "binary", wrap_legend_labels = 25, legend_title</span></span>
<span><span class="co">#&gt; = "none"): `n` has been deprecated as the function now automatically detects</span></span>
<span><span class="co">#&gt; number of colors needed.</span></span></code></pre>
<p><img src="how_to_use_adl_bar_plot_files/figure-html/unnamed-chunk-3-1.png" width="100%" height="100%"></p>
<p>Occasionally, we also do vertically dodged bar plots. As I mentioned
above, we’ll use these when the axis labels are not large. For example,
comparing the percentage of people endorsing different numbers of
tropes/statements among different groups, like college graduates vs
non-college graduates. Another example, comparing the average score for
two measures, like conspiracy belief and social dominance orientation,
across a group, like education level. I’ll demonstrate both examples
below.</p>
<pre><code><span><span class="co">#&gt; Warning in scale_adl(palette = "binary", wrap_legend_labels = 20, legend_title</span></span>
<span><span class="co">#&gt; = "Average Score:"): `n` has been deprecated as the function now automatically</span></span>
<span><span class="co">#&gt; detects number of colors needed.</span></span></code></pre>
<p><img src="how_to_use_adl_bar_plot_files/figure-html/unnamed-chunk-4-1.png" width="100%" height="100%"></p>
</div>
<div class="section level3">
<h3 id="stacked-frequency-bar-plots">Stacked frequency bar plots<a class="anchor" aria-label="anchor" href="#stacked-frequency-bar-plots"></a>
</h3>
<p>This one of the most common bar plots CAR uses. We use horizontal
stacked plots to demonstrate frequencies of different statements. We do
not use vertical stacked plots. Here are some general notes unique to
horizontal stacked plots:</p>
<ul>
<li><p>When comparing frequencies of different statements, the legend
should almost always go on top.</p></li>
<li><p>Each statement goes above the bar instead of to the left of
it.</p></li>
<li><p>Each bar should be labelled. The labels should have white
backgrounds for added visibility and should be centered within the bar.
If two labels overlap, manually adjust their spacing.</p></li>
<li><p>The order of the response options goes like this: agree to
disagree; true to false; favorable to unfavorable; etc. When used within
the same report, it is important to keep the order of the response
options the same in every graph. Generally, we want the value we are
highlighting to come first. Oftentimes, this is the percentage who think
a negative statement is true or agree with it.</p></li>
<li><p>The order of the statements should go from highest (on the top)
to lowest (on the bottom)</p></li>
</ul>
<pre><code><span><span class="co">#&gt; Warning in scale_adl(palette = "likert_4", n = 4, wrap_legend_labels = 10, :</span></span>
<span><span class="co">#&gt; `n` has been deprecated as the function now automatically detects number of</span></span>
<span><span class="co">#&gt; colors needed.</span></span></code></pre>
<p><img src="how_to_use_adl_bar_plot_files/figure-html/unnamed-chunk-5-1.png" width="100%" height="100%"></p>
</div>
</div>
<div class="section level2">
<h2 id="how-to-create-bar-plots-using-the-adlgraphs-package">How to create bar plots using the <code>adlgraphs</code>
package<a class="anchor" aria-label="anchor" href="#how-to-create-bar-plots-using-the-adlgraphs-package"></a>
</h2>
<p>This section is going to walk you through the graph creation process
step by step. The main functions from this package that we will use
are:</p>
<ul>
<li><p><code><a href="../reference/get_means.html">get_means()</a></code>: Calculate means and confidence
intervals.</p></li>
<li><p><code><a href="../reference/get_freqs.html">get_freqs()</a></code>: Calculate frequencies.</p></li>
<li><p><code><a href="../reference/pct_conv.html">pct_conv()</a></code>: Convert the results in
<code><a href="../reference/get_freqs.html">get_freqs()</a></code> to be easier to use in graphs by multiplying
the <code>pct</code> values by 100 and creating a new variable called
<code>pct_lab</code> that takes the <code>pct</code> values and adds the
“%” symbol.</p></li>
<li><p><code><a href="../reference/adl_bar_plots.html">adl_bar_plots()</a></code>: Take the prepared data and make a
bar plot.</p></li>
<li><p><code><a href="../reference/scale_adl.html">scale_adl()</a></code>: Set the colors and adjust other stuff
related to the legend</p></li>
<li><p><code><a href="../reference/theme_default.html">theme_default()</a></code>, <code><a href="../reference/theme_v_bar.html">theme_v_bar()</a></code>,
<code><a href="../reference/theme_h_bar.html">theme_h_bar()</a></code>, <code><a href="../reference/theme_h_stack.html">theme_h_stack()</a></code>: Adjust the
visual appearance (theme) of the bar plot. These are already included in
<code>adl_bar_plot()</code> so you won’t need to use these very
often.</p></li>
</ul>
<div class="section level4">
<h4 id="graph-1">Graph 1<a class="anchor" aria-label="anchor" href="#graph-1"></a>
</h4>
<p>Let’s start off by making the first graph presented in this vignette.
First, we need to get the data for the graph. To do that, we’re going to
convert the variable <code>top</code> into a factor variable named
<code>top_f</code> by leveraging the the underlying metadata with the
<code><a href="../reference/make_factor.html">make_factor()</a></code> function. Then, we use
<code><a href="../reference/get_freqs.html">get_freqs()</a></code> to calculate the frequencies.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># use the test data set</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">test_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># convert top_f into a factor variable based on the underlying labels</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>top_f <span class="op">=</span> <span class="fu"><a href="../reference/make_factor.html">make_factor</a></span><span class="op">(</span><span class="va">top</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># calculate the weighted frequencies</span></span>
<span>  <span class="fu"><a href="../reference/get_freqs.html">get_freqs</a></span><span class="op">(</span><span class="va">top_f</span>, wt <span class="op">=</span> <span class="va">wts</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">df</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 3</span></span></span>
<span><span class="co">#&gt;   top_f                 n   pct</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Strongly agree     25.1 0.102</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Somewhat agree     86.1 0.351</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Somewhat disagree  75   0.306</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Strongly disagree  58.9 0.240</span></span></code></pre></div>
<p>If the variable does not have value labels, then we can manually make
a new variable a factor with the correct response options using
[<code><a href="../reference/case_match_fct.html">case_match_fct()</a></code>], like what’s below. We can see that the
results are the exact same, but the example below requires a lot more
code (This is why metadata is so valuable!).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># make top_f and set the factor levels using case_match_fct()</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>top_f <span class="op">=</span> <span class="fu"><a href="../reference/case_match_fct.html">case_match_fct</a></span><span class="op">(</span></span>
<span>    <span class="va">top</span>,</span>
<span>    <span class="fl">1</span> <span class="op">~</span> <span class="st">"Strongly agree"</span>,</span>
<span>    <span class="fl">2</span> <span class="op">~</span> <span class="st">"Somewhat agree"</span>,</span>
<span>    <span class="fl">3</span> <span class="op">~</span> <span class="st">"Somewhat disagree"</span>,</span>
<span>    <span class="fl">4</span> <span class="op">~</span> <span class="st">"Strongly disagree"</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># calculate the weighrted frequencies</span></span>
<span>  <span class="fu"><a href="../reference/get_freqs.html">get_freqs</a></span><span class="op">(</span><span class="va">top_f</span>, wt <span class="op">=</span> <span class="va">wts</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 3</span></span></span>
<span><span class="co">#&gt;   top_f                 n   pct</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Strongly agree     25.1 0.102</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Somewhat agree     86.1 0.351</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Somewhat disagree  75   0.306</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Strongly disagree  58.9 0.240</span></span></code></pre></div>
<p>Okay, now that we have the data, let’s make it easier to use in the
graph with the <code><a href="../reference/pct_conv.html">pct_conv()</a></code> function. This function takes the
<code>pct</code> variable multiplies it by 100 and then takes that value
and adds the % symbol in a new variable called <code>pct_lab</code>. We
can see this below.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># clean up the data</span></span>
<span>  <span class="fu"><a href="../reference/pct_conv.html">pct_conv</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 4</span></span></span>
<span><span class="co">#&gt;   top_f                 n   pct pct_lab</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Strongly agree     25.1  10.2 10.2%  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Somewhat agree     86.1  35.1 35.1%  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Somewhat disagree  75    30.6 30.6%  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Strongly disagree  58.9  24.0 24%</span></span></code></pre></div>
<p>Now that we have the data for a frequency plot properly set up, we
can make the bar plot. To do this we will use the
<code><a href="../reference/adl_bar_plots.html">adl_bar_plots()</a></code> function and because this a simple graph,
we only need to specify <code>x</code>, <code>y</code>, and
<code>col_label</code>. We set <code>x</code> to “top_f” so that the
graph is vertical and the response options are on the x-axis. We set
<code>y</code> to “pct” so that the bars set to the heights of the
percentage. Moreover, we need <code>y</code> to be a numeric value.
<code>col_label</code> is set to “pct_lab” and is the label that goes
outside the bars.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/adl_bar_plots.html">adl_bar_plots</a></span><span class="op">(</span></span>
<span>    <span class="co"># set the x-axis to top_f so it is vertical</span></span>
<span>    x <span class="op">=</span> <span class="va">top_f</span>,</span>
<span>    <span class="co"># set the y-axis to the pct </span></span>
<span>    y <span class="op">=</span> <span class="va">pct</span>,</span>
<span>    <span class="co"># set the variable that is used for the labels</span></span>
<span>    col_label <span class="op">=</span> <span class="va">pct_lab</span></span>
<span>  <span class="op">)</span> </span>
<span></span>
<span><span class="va">plot</span></span></code></pre></div>
<p><img src="how_to_use_adl_bar_plot_files/figure-html/unnamed-chunk-9-1.png" width="100%" height="100%"></p>
<p>Now we need to add the plot title and axis title using
<code><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs()</a></code>. We don’t need the y-axis title so set
<code>y = NULL</code>. We are going to use <code><a href="../reference/attr_var_label.html">attr_var_label()</a></code>
to get the variable label, so set
<code>x = attr_var_label(test_data$top)</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="va">plot</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    x <span class="op">=</span> <span class="fu"><a href="../reference/attr_var_label.html">attr_var_label</a></span><span class="op">(</span><span class="va">test_data</span><span class="op">$</span><span class="va">top</span><span class="op">)</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"About 40% of Americans Think an Ideal Society is Hierarchical"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">plot</span> </span></code></pre></div>
<p><img src="how_to_use_adl_bar_plot_files/figure-html/unnamed-chunk-10-1.png" width="100%" height="100%"></p>
<p>Unfortunately, the x-axis title is too long. Since we are using
<code><a href="../reference/attr_var_label.html">attr_var_label()</a></code>, we need to use <a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link"><code>stringr::str_wrap()</code></a>
to wrap the x-axis title. We are setting it to 55 so that the line break
occurs after 55 characters. The plot title is also too long so we need
to fix that as well. One way to do this is to use <a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link"><code>stringr::str_wrap()</code></a>
again, or we can manually set it by adding <code>\n</code> to the title.
<code>\n</code> indicates where the line break should occur.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="va">plot</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    x <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span><span class="fu"><a href="../reference/attr_var_label.html">attr_var_label</a></span><span class="op">(</span><span class="va">test_data</span><span class="op">$</span><span class="va">top</span><span class="op">)</span>, <span class="fl">55</span><span class="op">)</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"About 40% of Americans Think an Ideal\nSociety is Hierarchical"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">plot</span></span></code></pre></div>
<p><img src="how_to_use_adl_bar_plot_files/figure-html/unnamed-chunk-11-1.png" width="100%" height="100%"></p>
</div>
<div class="section level4">
<h4 id="creating-dodged-bar-plots">Creating dodged bar plots<a class="anchor" aria-label="anchor" href="#creating-dodged-bar-plots"></a>
</h4>
</div>
<div class="section level4">
<h4 id="creating-stacked-bar-plots">Creating stacked bar plots<a class="anchor" aria-label="anchor" href="#creating-stacked-bar-plots"></a>
</h4>
</div>
<div class="section level4">
<h4 id="switching-the-order-of-the-axes">Switching the order of the axes<a class="anchor" aria-label="anchor" href="#switching-the-order-of-the-axes"></a>
</h4>
</div>
<div class="section level3">
<h3 id="using-scale_adl">Using <code>scale_adl()</code><a class="anchor" aria-label="anchor" href="#using-scale_adl"></a>
</h3>
<div class="section level5">
<h5 id="using-scale_adl-1">Using scale_adl<a class="anchor" aria-label="anchor" href="#using-scale_adl-1"></a>
</h5>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jacob Dennen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
