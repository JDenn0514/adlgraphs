<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate difference in means — get_diffs • adlgraphs</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/Inter-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Calculate difference in means — get_diffs"><meta name="description" content="This function calculates the difference in means using a
bivariate regression, as well the p-value indicating how
significant each difference is. The main function doing the
calculations lm().
NOTE: This function does not perform an actual Dunnet Test as it
does not calculate the quantile of the multivariate t-distribution
when determining the confidence intervals and p-values. If you need
to perform an actual Dunnett Test use the dunnett() function
instead. Please be aware that that function is far slower when
there are many comparison groups due to the nature of
mvtnorm::qmvt() and high dimensional data."><meta property="og:description" content="This function calculates the difference in means using a
bivariate regression, as well the p-value indicating how
significant each difference is. The main function doing the
calculations lm().
NOTE: This function does not perform an actual Dunnet Test as it
does not calculate the quantile of the multivariate t-distribution
when determining the confidence intervals and p-values. If you need
to perform an actual Dunnett Test use the dunnett() function
instead. Please be aware that that function is far slower when
there are many comparison groups due to the nature of
mvtnorm::qmvt() and high dimensional data."><meta property="og:image" content="https://jdenn0514.github.io/adlgraphs/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-#e5f3f7" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">adlgraphs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.3.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/data_transformations.html">Data Transformations</a></li>
    <li><a class="dropdown-item" href="../articles/how_to_use_adl_bar_plot.html">Making bar plots</a></li>
    <li><a class="dropdown-item" href="../articles/make_coefficient_plots.html">Making Coefficient Plots</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/JDenn0514/adlgraphs/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculate difference in means</h1>
      <small class="dont-index">Source: <a href="https://github.com/JDenn0514/adlgraphs/blob/main/R/get_diffs.R" class="external-link"><code>R/get_diffs.R</code></a></small>
      <div class="d-none name"><code>get_diffs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function calculates the difference in means using a
bivariate regression, as well the p-value indicating how
significant each difference is. The main function doing the
calculations <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>.</p>
<p>NOTE: This function does not perform an actual Dunnet Test as it
does not calculate the quantile of the multivariate t-distribution
when determining the confidence intervals and p-values. If you need
to perform an actual Dunnett Test use the <code><a href="dunnett.html">dunnett()</a></code> function
instead. Please be aware that that function is far slower when
there are many comparison groups due to the nature of
<code><a href="https://rdrr.io/pkg/mvtnorm/man/qmvt.html" class="external-link">mvtnorm::qmvt()</a></code> and high dimensional data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_diffs</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">treats</span>,</span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  wt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">ref_level</span>,</span>
<span>  show_means <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show_pct_change <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  decimals <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  conf.level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  na.rm <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame or tibble.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A numeric vector that will be used to calculate the means.
This can be a string or symbol.</p></dd>


<dt id="arg-treats">treats<a class="anchor" aria-label="anchor" href="#arg-treats"></a></dt>
<dd><p>A variable whose values are used to determine if the means
are statistically significantly different from each other. Should be
a factor or character vector. This can be a string or symbol.</p></dd>


<dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>&lt;<code><a href="https://dplyr.tidyverse.org/reference/dplyr_tidy_select.html" class="external-link">tidy-select</a></code>&gt; A selection of columns to
group the data by in addition to <code>treats</code>. This operates very similarly
to <code>.by</code> from dplyr (for more info on that see <a href="https://dplyr.tidyverse.org/reference/dplyr_by.html" class="external-link">?dplyr_by</a>).
See examples to see how it operates.</p></dd>


<dt id="arg-wt">wt<a class="anchor" aria-label="anchor" href="#arg-wt"></a></dt>
<dd><p>Weights. Add if you have a weighting variable and want to perform
Dunnett's test with weighted means.</p></dd>


<dt id="arg-ref-level">ref_level<a class="anchor" aria-label="anchor" href="#arg-ref-level"></a></dt>
<dd><p>A string that specifies the level of the reference group
through which the others will be tested.</p></dd>


<dt id="arg-show-means">show_means<a class="anchor" aria-label="anchor" href="#arg-show-means"></a></dt>
<dd><p>Logical. Default is <code>FALSE</code> which does not show the mean
values for the levels. If <code>TRUE</code>, will add a column called <code>mean</code> that
contains the means.</p></dd>


<dt id="arg-show-pct-change">show_pct_change<a class="anchor" aria-label="anchor" href="#arg-show-pct-change"></a></dt>
<dd><p>Logical. Default is <code>FALSE</code> which does not show the
percent change from the reference category to the other categories. If
<code>TRUE</code>, will show the percent change.</p></dd>


<dt id="arg-decimals">decimals<a class="anchor" aria-label="anchor" href="#arg-decimals"></a></dt>
<dd><p>Number of decimals each number should be rounded to. Default
is 3.</p></dd>


<dt id="arg-conf-level">conf.level<a class="anchor" aria-label="anchor" href="#arg-conf-level"></a></dt>
<dd><p>A number between 0 and 1 that signifies the width of the
desired confidence interval. Default is 0.95, which corresponds to a 95%
confidence interval.</p></dd>


<dt id="arg-na-rm">na.rm<a class="anchor" aria-label="anchor" href="#arg-na-rm"></a></dt>
<dd><p>Logical. Default is <code>TRUE</code> which removes NAs prior to
calculation.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble with one row if no <code>group</code> is provided and <code>data</code>
is not of class <code>"grouped_df"</code>. If data is of class <code>"grouped_df"</code> or
<code>group</code> is provided, it will return one row for each unique observation
if one group is provides and one row per unique combination of observations
if multiple groups are used.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># load dplyr for the pipe: %&gt;% </span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/JDenn0514/adlgraphs" class="external-link">adlgraphs</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check to see if any of the partisan groups are significantly different</span></span></span>
<span class="r-in"><span><span class="co"># from the control group (in this case "Democrat") for conspiracy</span></span></span>
<span class="r-in"><span><span class="co"># theory belief</span></span></span>
<span class="r-in"><span><span class="fu">get_diffs</span><span class="op">(</span><span class="va">test_data</span>, <span class="st">"acts_avg"</span>, <span class="st">"pid_f3"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   pid_f3      diffs     n conf.low conf.high p_value stars</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Independent 0.262    57    0.015     0.509   0.037 <span style="color: #949494;">"</span>*<span style="color: #949494;">"</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Republican  0.175    95   -<span style="color: #BB0000;">0.038</span>     0.388   0.107 <span style="color: #949494;">""</span>   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now do the same as above but make "Independent" the control group</span></span></span>
<span class="r-in"><span><span class="fu">get_diffs</span><span class="op">(</span><span class="va">test_data</span>, <span class="st">"acts_avg"</span>, <span class="st">"pid_f3"</span>, ref_level <span class="op">=</span> <span class="st">"Independent"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   pid_f3      diffs     n conf.low conf.high p_value stars</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Democrat   -<span style="color: #BB0000;">0.262</span>    98   -<span style="color: #BB0000;">0.509</span>    -<span style="color: #BB0000;">0.015</span>   0.037 <span style="color: #949494;">"</span>*<span style="color: #949494;">"</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Republican -<span style="color: #BB0000;">0.087</span>    95   -<span style="color: #BB0000;">0.335</span>     0.161   0.491 <span style="color: #949494;">""</span>   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now let's add in education (`edu_f2`) as the `group` variable. This let's us</span></span></span>
<span class="r-in"><span><span class="co"># compare education levels within each level of `edu_f2`. Note how the arguments</span></span></span>
<span class="r-in"><span><span class="co"># don't have to be strings</span></span></span>
<span class="r-in"><span><span class="fu">get_diffs</span><span class="op">(</span><span class="va">test_data</span>, <span class="va">acts_avg</span>, <span class="va">pid_f3</span>, <span class="va">edu_f2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   edu_f2                     pid_f3 diffs     n conf.low conf.high p_value stars</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                      <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> No College Degree          Indep… 0.168    40   -<span style="color: #BB0000;">0.134</span>     0.471   0.273 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> No College Degree          Repub… 0.156    50   -<span style="color: #BB0000;">0.129</span>     0.441   0.281 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> At Least a Bachelor's Deg… Indep… 0.316    17   -<span style="color: #BB0000;">0.118</span>     0.749   0.152 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> At Least a Bachelor's Deg… Repub… 0.2      45   -<span style="color: #BB0000;">0.121</span>     0.52    0.22  <span style="color: #949494;">""</span>   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># we can also group by multiple variables. Due to a small n, I'm going to use </span></span></span>
<span class="r-in"><span><span class="co"># `edu_f2` instead of `edu_f`. </span></span></span>
<span class="r-in"><span><span class="va">test_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>values_f2 <span class="op">=</span> <span class="fu"><a href="make_dicho.html">make_dicho</a></span><span class="op">(</span><span class="va">values</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu">get_diffs</span><span class="op">(</span><span class="va">acts_avg</span>, treats <span class="op">=</span> <span class="va">pid_f3</span>, group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">edu_f2</span>, <span class="va">values_f2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 8 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   edu_f2          values_f2 pid_f3  diffs     n conf.low conf.high p_value stars</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> No College Deg… True      Indep…  0.163    18   -<span style="color: #BB0000;">0.249</span>     0.575   0.432 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> No College Deg… True      Repub…  0.08     35   -<span style="color: #BB0000;">0.26</span>      0.421   0.639 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> No College Deg… False     Indep…  0.081    22   -<span style="color: #BB0000;">0.379</span>     0.541   0.726 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> No College Deg… False     Repub…  0.369    15   -<span style="color: #BB0000;">0.137</span>     0.876   0.149 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> At Least a Bac… True      Indep…  0.235    11   -<span style="color: #BB0000;">0.359</span>     0.829   0.433 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> At Least a Bac… True      Repub… -<span style="color: #BB0000;">0.015</span>    28   -<span style="color: #BB0000;">0.454</span>     0.423   0.945 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> At Least a Bac… False     Indep…  0.49      6   -<span style="color: #BB0000;">0.042</span>     1.02    0.07  <span style="color: #949494;">"</span>.<span style="color: #949494;">"</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> At Least a Bac… False     Repub…  0.586    17    0.188     0.983   0.005 <span style="color: #949494;">"</span>**<span style="color: #949494;">"</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now let's do those previous two calculations but using `dplyr::group_by()`</span></span></span>
<span class="r-in"><span><span class="va">test_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">pid_f3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu">get_diffs</span><span class="op">(</span><span class="va">acts_avg</span>, <span class="va">edu_f</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 9 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   pid_f3      edu_f              diffs     n conf.low conf.high p_value stars</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Democrat    Some College      -<span style="color: #BB0000;">0.111</span>    32   -<span style="color: #BB0000;">0.533</span>     0.311   0.603 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Democrat    Bachelor's Degree -<span style="color: #BB0000;">0.346</span>    28   -<span style="color: #BB0000;">0.779</span>     0.087   0.116 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> Democrat    Graduate Degree   -<span style="color: #BB0000;">0.379</span>    18   -<span style="color: #BB0000;">0.86</span>      0.101   0.121 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> Independent Some College      -<span style="color: #BB0000;">0.096</span>    14   -<span style="color: #BB0000;">0.645</span>     0.453   0.727 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> Independent Bachelor's Degree -<span style="color: #BB0000;">0.054</span>    12   -<span style="color: #BB0000;">0.633</span>     0.524   0.851 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> Independent Graduate Degree   -<span style="color: #BB0000;">0.471</span>     5   -<span style="color: #BB0000;">1.28</span>      0.338   0.248 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> Republican  Some College      -<span style="color: #BB0000;">0.074</span>    32   -<span style="color: #BB0000;">0.49</span>      0.342   0.725 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> Republican  Bachelor's Degree -<span style="color: #BB0000;">0.204</span>    28   -<span style="color: #BB0000;">0.631</span>     0.222   0.344 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">9</span> Republican  Graduate Degree   -<span style="color: #BB0000;">0.443</span>    17   -<span style="color: #BB0000;">0.92</span>      0.035   0.069 <span style="color: #949494;">"</span>.<span style="color: #949494;">"</span>  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># we can also group by multiple variables</span></span></span>
<span class="r-in"><span><span class="va">test_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>values_f2 <span class="op">=</span> <span class="fu"><a href="make_dicho.html">make_dicho</a></span><span class="op">(</span><span class="va">values</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">pid_f3</span>, <span class="va">values_f2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu">get_diffs</span><span class="op">(</span><span class="va">acts_avg</span>, <span class="va">edu_f2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   pid_f3      values_f2 edu_f2      diffs     n conf.low conf.high p_value stars</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Democrat    True      At Least … -<span style="color: #BB0000;">0.169</span>    33   -<span style="color: #BB0000;">0.546</span>     0.209   0.376 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Democrat    False     At Least … -<span style="color: #BB0000;">0.546</span>    13   -<span style="color: #BB0000;">1.04</span>     -<span style="color: #BB0000;">0.056</span>   0.03  <span style="color: #949494;">"</span>*<span style="color: #949494;">"</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> Independent True      At Least … -<span style="color: #BB0000;">0.097</span>    11   -<span style="color: #BB0000;">0.828</span>     0.634   0.787 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> Independent False     At Least … -<span style="color: #BB0000;">0.136</span>     6   -<span style="color: #BB0000;">0.81</span>      0.537   0.681 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> Republican  True      At Least … -<span style="color: #BB0000;">0.264</span>    28   -<span style="color: #BB0000;">0.623</span>     0.095   0.146 <span style="color: #949494;">""</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> Republican  False     At Least … -<span style="color: #BB0000;">0.329</span>    17   -<span style="color: #BB0000;">0.76</span>      0.101   0.129 <span style="color: #949494;">""</span>   </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jacob Dennen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

