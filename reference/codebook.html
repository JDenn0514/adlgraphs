<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a data codebook — codebook • adlgraphs</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/Inter-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Create a data codebook — codebook"><meta name="description" content="This function takes a data.frame and creates a codebook. The new
object is a data.frame where each row contains different metadata info
found within each column from the original data set. Each column in the new
data set represents a different element of the underlying metadata. This is
similar to labelled::look_for() but shows more of the underlying metadata."><meta property="og:description" content="This function takes a data.frame and creates a codebook. The new
object is a data.frame where each row contains different metadata info
found within each column from the original data set. Each column in the new
data set represents a different element of the underlying metadata. This is
similar to labelled::look_for() but shows more of the underlying metadata."><meta property="og:image" content="https://jdenn0514.github.io/adlgraphs/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-#e5f3f7" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">adlgraphs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.4.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/data_transformations.html">Data Transformations</a></li>
    <li><a class="dropdown-item" href="../articles/how_to_use_adl_bar_plot.html">Making bar plots</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/JDenn0514/adlgraphs/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create a data codebook</h1>
      <small class="dont-index">Source: <a href="https://github.com/JDenn0514/adlgraphs/blob/main/R/codebook.R" class="external-link"><code>R/codebook.R</code></a></small>
      <div class="d-none name"><code>codebook.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function takes a <code>data.frame</code> and creates a codebook. The new
object is a <code>data.frame</code> where each row contains different metadata info
found within each column from the original data set. Each column in the new
data set represents a different element of the underlying metadata. This is
similar to <code><a href="https://larmarange.github.io/labelled/reference/look_for.html" class="external-link">labelled::look_for()</a></code> but shows more of the underlying metadata.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">codebook</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>An object of class <code>data.frame</code> or <code>tibble</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble with with the number of rows as columns in <code>data</code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Currently, the new data set provided by this function has the following columns:</p><ul><li><p>pos - The position of the variable.</p></li>
<li><p>variable - The name of the variable.</p></li>
<li><p>label - The variable label.</p></li>
<li><p>levels - If the variable is a factor, the factor levels are listed here.</p></li>
<li><p>value_labels - If the variable is a labelled vector, the value labels are
listed here.</p></li>
<li><p>transformation - An explanation of any potential data transformations the
variable underwent is listed here. This useful if you want to remember how
a variable was created without going back to the cleaning script.</p></li>
<li><p>question_preface - This contains the question preface. To elaborate, some
questions in surveys enable respondents to select multiple responses. Each
response gets it's own variable in the data. The value listed here is
supposed to contain the text that prefaced the response options. The
actual response option is listed under 'label'.</p></li>
<li><p>survey flow - This is used to indicate if there was an experiment or some
sort of branching involved in the survey flow.</p></li>
<li><p>note - A miscellaneous attribute in which you can add random information
about the variable that doesn't fit in the other attributes.</p></li>
<li><p>class - The class attribute of the variable.</p></li>
<li><p>type - The type of the variable.</p></li>
<li><p>missing - Indicates how many missing values there are.</p></li>
<li><p>range - If a numeric variable, shows the range of the values.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># create the codebook</span></span></span>
<span class="r-in"><span><span class="va">test_data_codebook</span> <span class="op">&lt;-</span> <span class="fu">codebook</span><span class="op">(</span><span class="va">test_data</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Converted 'pid_f3' into a factor based on its value labelsRecoded 'edu' as a factor and set the levels based on their order.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The data transformation is as follows:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What was 'c(1:2)' has become 'High School or Less'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What was '3' has become 'Some College'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What was '4' has become 'Bachelor's Degree'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What was '5' has become 'Graduate Degree'Recoded 'edu' as a factor and set the levels based on their order.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The data transformation is as follows:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What was 'c(1, 2, 3)' has become 'No College Degree'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What was 'c(4, 5)' has become 'At Least a Bachelor's Degree'Reversing 'top' while maintaining correct value labelsReversing 'inferior' while maintaining correct value labelsFlipped the valance of `dominate` so it is now negative by updating the label and value labels accordingly.Flipped the valance of `deserving` so it is now negative by updating the label and value labels accordingly.Simple sum of `top_rev`, `inferior_rev`, `dominate_flip`, `deserving_flip`.Simple sum of `top_rev`, `inferior_rev`, `dominate_flip`, `deserving_flip`.Simple sum of `pol_part_rally`, `pol_part_worked`, `pol_part_contact`, `pol_part_money`, `pol_part_social`, `pol_part_attended`Reversing 'controlled' while maintaining correct value labelsReversing 'small' while maintaining correct value labelsReversing 'run' while maintaining correct value labelsReversing 'big_events' while maintaining correct value labelsSimple sum of `controlled_rev`, `small_rev`, `run_rev`, `big_events_rev`.Simple sum of `controlled_rev`, `small_rev`, `run_rev`, `big_events_rev`.</span>
<span class="r-in"><span><span class="co"># view the codebook</span></span></span>
<span class="r-in"><span><span class="va">test_data_codebook</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 46 × 15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      pos variable      label levels value_labels transformation question_preface</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;name&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;named list&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>     1 resp_id       Uniq… <span style="color: #949494;">&lt;NULL&gt;</span> <span style="color: #949494;">""</span>           <span style="color: #949494;">&lt;NULL&gt;</span>          <span style="color: #BB0000;">NA</span>             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>     2 wts           Surv… <span style="color: #949494;">&lt;NULL&gt;</span> <span style="color: #949494;">""</span>           <span style="color: #949494;">&lt;NULL&gt;</span>          <span style="color: #BB0000;">NA</span>             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>     3 edu           What… <span style="color: #949494;">&lt;NULL&gt;</span> <span style="color: #949494;">"</span>1 = ''Less… <span style="color: #949494;">&lt;NULL&gt;</span>          <span style="color: #BB0000;">NA</span>             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>     4 pid_f3        Poli… <span style="color: #949494;">&lt;chr&gt;</span>  <span style="color: #949494;">""</span>           <span style="color: #949494;">&lt;NULL&gt;</span>          <span style="color: #BB0000;">NA</span>             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>     5 pol_part_ral… Atte… <span style="color: #949494;">&lt;NULL&gt;</span> <span style="color: #949494;">""</span>           <span style="color: #949494;">&lt;NULL&gt;</span>         <span style="color: #949494;">"</span>In the last tw…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>     6 pol_part_wor… Work… <span style="color: #949494;">&lt;NULL&gt;</span> <span style="color: #949494;">""</span>           <span style="color: #949494;">&lt;NULL&gt;</span>         <span style="color: #949494;">"</span>In the last tw…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>     7 pol_part_con… Cont… <span style="color: #949494;">&lt;NULL&gt;</span> <span style="color: #949494;">""</span>           <span style="color: #949494;">&lt;NULL&gt;</span>         <span style="color: #949494;">"</span>In the last tw…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>     8 pol_part_mon… Cont… <span style="color: #949494;">&lt;NULL&gt;</span> <span style="color: #949494;">""</span>           <span style="color: #949494;">&lt;NULL&gt;</span>         <span style="color: #949494;">"</span>In the last tw…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>     9 pol_part_soc… Publ… <span style="color: #949494;">&lt;NULL&gt;</span> <span style="color: #949494;">""</span>           <span style="color: #949494;">&lt;NULL&gt;</span>         <span style="color: #949494;">"</span>In the last tw…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>    10 pol_part_att… Atte… <span style="color: #949494;">&lt;NULL&gt;</span> <span style="color: #949494;">""</span>           <span style="color: #949494;">&lt;NULL&gt;</span>         <span style="color: #949494;">"</span>In the last tw…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 36 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 8 more variables: survey_flow &lt;named list&gt;, note &lt;named list&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   col_type &lt;chr&gt;, class &lt;named list&gt;, type &lt;chr&gt;, missing &lt;int&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   unique_values &lt;int&gt;, range &lt;named list&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jacob Dennen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

