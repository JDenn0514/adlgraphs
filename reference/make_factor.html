<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert a labelled vector into a factor — make_factor • adlgraphs</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/Inter-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert a labelled vector into a factor — make_factor"><meta name="description" content="make_factor() takes a labelled vector and converts it to a factor variable
using the value labels. This works with numeric, character, and factor vectors."><meta property="og:description" content="make_factor() takes a labelled vector and converts it to a factor variable
using the value labels. This works with numeric, character, and factor vectors."><meta property="og:image" content="https://jdenn0514.github.io/adlgraphs/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-#e5f3f7" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">adlgraphs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/data_transformations.html">Data Transformations</a></li>
    <li><a class="dropdown-item" href="../articles/how_to_use_adl_bar_plot.html">Making bar plots</a></li>
    <li><a class="dropdown-item" href="../articles/make_coefficient_plots.html">Making Coefficient Plots</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/JDenn0514/adlgraphs/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Convert a labelled vector into a factor</h1>
      <small class="dont-index">Source: <a href="https://github.com/JDenn0514/adlgraphs/blob/main/R/make_factor.R" class="external-link"><code>R/make_factor.R</code></a></small>
      <div class="d-none name"><code>make_factor.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>make_factor()</code> takes a labelled vector and converts it to a factor variable
using the value labels. This works with numeric, character, and factor vectors.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make_factor</span><span class="op">(</span><span class="va">x</span>, ordered <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A vector with value labels. Can be numeric, character, or a factor</p></dd>


<dt id="arg-ordered">ordered<a class="anchor" aria-label="anchor" href="#arg-ordered"></a></dt>
<dd><p>Logical. Determines if the factor be ordered. Defaults to TRUE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function is very similar to <a href="https://haven.tidyverse.org/reference/as_factor.html" class="external-link"><code><a href="https://forcats.tidyverse.org/reference/as_factor.html" class="external-link">haven::as_factor()</a></code></a>
and
<a href="https://strengejacke.github.io/sjlabelled/reference/as_label.html" class="external-link"><code><a href="https://strengejacke.github.io/sjlabelled/reference/as_label.html" class="external-link">sjlabelled::as_label()</a></code></a>
and is heavily based on both. However, it has some key differences. The main
difference compared to both functions  is that <code>make_factor()</code> adds a
"transformation" attribute to the new variable  indicating how it was
created. You can see this in the examples.</p>
<p>Compared to <a href="https://strengejacke.github.io/sjlabelled/reference/as_label.html" class="external-link"><code><a href="https://strengejacke.github.io/sjlabelled/reference/as_label.html" class="external-link">sjlabelled::as_label()</a></code></a>
it is not as extensive. For example, while <a href="https://strengejacke.github.io/sjlabelled/reference/as_label.html" class="external-link"><code><a href="https://strengejacke.github.io/sjlabelled/reference/as_label.html" class="external-link">sjlabelled::as_label()</a></code></a>
works with data.frames and vectors, <code>make_factor()</code> only works with vectors.
In addition, <a href="https://strengejacke.github.io/sjlabelled/reference/as_label.html" class="external-link"><code><a href="https://strengejacke.github.io/sjlabelled/reference/as_label.html" class="external-link">sjlabelled::as_label()</a></code></a>
has many different arguments that enable you to control the appearance of the
labels, NAs, and other things. <code>make_factor()</code> on the other hand is much
simpler. Similarly,
<a href="https://haven.tidyverse.org/reference/as_factor.html" class="external-link"><code><a href="https://forcats.tidyverse.org/reference/as_factor.html" class="external-link">haven::as_factor()</a></code></a>
also enables more customization over the output of the labels. Another key
difference between this function and those is that if there are values without
labels, this function returns an error.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/JDenn0514/adlgraphs" class="external-link">adlgraphs</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># let's make a new variable and data set</span></span></span>
<span class="r-in"><span><span class="va">new_df</span> <span class="op">&lt;-</span> <span class="va">test_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="co"># convert top into a factor</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>top_f <span class="op">=</span> <span class="fu">make_factor</span><span class="op">(</span><span class="va">top</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># compare the "top_f" to "top"</span></span></span>
<span class="r-in"><span><span class="va">new_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">top</span>, <span class="va">top_f</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 250 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    top                   top_f            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 4<span style="color: #949494;"> [Strongly disagree]</span> Strongly disagree</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 4<span style="color: #949494;"> [Strongly disagree]</span> Strongly disagree</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 3<span style="color: #949494;"> [Somewhat disagree]</span> Somewhat disagree</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 1<span style="color: #949494;"> [Strongly agree]</span>    Strongly agree   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 3<span style="color: #949494;"> [Somewhat disagree]</span> Somewhat disagree</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 4<span style="color: #949494;"> [Strongly disagree]</span> Strongly disagree</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 3<span style="color: #949494;"> [Somewhat disagree]</span> Somewhat disagree</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 3<span style="color: #949494;"> [Somewhat disagree]</span> Somewhat disagree</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 4<span style="color: #949494;"> [Strongly disagree]</span> Strongly disagree</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 3<span style="color: #949494;"> [Somewhat disagree]</span> Somewhat disagree</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 240 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check the attributes to see the label and transformation</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">new_df</span><span class="op">$</span><span class="va">top_f</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $levels</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Strongly agree"    "Somewhat agree"    "Somewhat disagree"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "Strongly disagree"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $class</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "factor"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $label</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "An ideal society requires some groups to be on top and others to be on the bottom"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $transformation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Converted 'top' into a factor based on its value labels</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jacob Dennen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

